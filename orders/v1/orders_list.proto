syntax = "proto3";

package orders.v1;

import "inventory/v1/reservation_get.proto";
import "orders/v1/order_get.proto";
import "shared/v1/error.proto";
import "shared/v1/pagination.proto";

option cc_enable_arenas = true;
option go_package = "github.com/ahmad-khatib0-org/megacommerce-proto/gen/go/orders/v1;v1";
option java_outer_classname = "OrdersListProto";
option java_package = "org.megacommerce.orders.v1";

message OrdersListRequest {
  shared.v1.PaginationRequest pagination = 1;
  repeated string status = 2;
}

message OrdersListResponse {
  oneof response {
    OrdersListResponseData data = 1;
    shared.v1.AppError error = 2;
  }
}

message OrdersListResponseData {
  repeated OrderListItem orders = 1;
  shared.v1.PaginationResponse pagination = 2;
}

// OrderListItem for minimal listing
message OrderListItem {
  string id = 1;

  int64 shipping_cents = 2;
  int64 total_cents = 3;
  string currency_code = 4;

  // Inventory reservation status - since inventory service is separate,
  // we include reservation status in order so UI shows what's reserved.
  inventory.v1.InventoryReservationStatus inventory_reservation_status = 5;

  // order lifecycle
  string status = 6; // e.g., CREATED, CONFIRMED, SHIPPED, CANCELLED, REFUNDED
  uint64 created_at = 7;
}
